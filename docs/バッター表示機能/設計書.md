# 設計書 - バッター表示機能

## 1. ファイル構成

- `Batter.html`: 新規作成。バッター表示専用のHTMLファイル。
- `script.js`: 既存修正。バッター表示用の更新ロジックを追加。
- `style.css`: 既存修正。バッター表示用のスタイルを追加。

## 2. 画面設計 (Batter.html)

### 2.1 HTML構造

```html
<!DOCTYPE html>
<html lang="ja">
  <head>
    <!-- 既存のCSS読み込み -->
    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="display-mode batter-mode">
    <div class="batter-monitor">
      <div class="batter-monitor-header">
        <span id="batter-monitor-team">Team Name</span>
        <span id="batter-monitor-order">1番</span>
      </div>
      <div class="batter-monitor-main">
        <h1 id="batter-monitor-name">選手名</h1>
      </div>
      <div id="batter-monitor-results" class="batter-monitor-results">
        <!-- 結果バッジ（JavaScriptで生成） -->
        <!-- <span class="result-badge single">単</span> -->
      </div>
    </div>
    <script src="script.js"></script>
  </body>
</html>
```

## 3. ロジック設計 (script.js)

### 3.1 追加関数

- `updateBatterMonitorDisplay()`:
  - 既存の `updateDisplay()` 内から呼び出す（またはDOM要素の存在確認後に実行）。
  - 現在の攻撃チーム（表/裏）を判定。
  - `state.currentBatter` から打順インデックスを取得。
  - `state.lineup` バッター名を取得して `#batter-monitor-name` にセット。
  - `state.atBatResults` から該当打者の結果配列を取得し、HTML生成して `#batter-monitor-results` にセット。

## 4. スタイル設計 (style.css)

### 4.1 新規クラス

- `.batter-monitor`:
  - 画面中央または下部に配置。
  - 背景色、枠線をテーマに合わせて設定。
- `.batter-monitor-name`:
  - フォントサイズ大（60px以上）。
  - 視認性重視（白文字、ドロップシャドウ）。
- `.batter-monitor-results`:
  - Flexboxで横並び。
  - バッジサイズを通常より大きめに調整。

## 5. データフロー

1. `admin.html` で操作（打者変更、結果入力）。
2. `state` が更新され、`BroadcastChannel` / `localStorage` に保存。
3. `Batter.html` がイベントを受知。
4. `updateDisplay()` -> `updateBatterMonitorDisplay()` が実行され、画面更新。
