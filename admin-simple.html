<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ç®¡ç†ãƒ‘ãƒãƒ« - Baseball Live</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="css/admin.css" />
  </head>
  <body class="admin-mode">
    <div class="control-panel">
      <!-- Admin Header with Tabs -->
      <div class="admin-header">
        <h1 class="panel-title">âš¾ ç®¡ç†ãƒ‘ãƒãƒ«</h1>
        <div class="admin-tabs">
            <button class="tab-btn active" data-tab="simple">è©¦åˆæ“ä½œ</button>
            <button class="tab-btn" data-tab="lineup">ã‚ªãƒ¼ãƒ€ãƒ¼ç®¡ç†</button>
            <button class="tab-btn" data-tab="db">DBç®¡ç†</button>
            <button class="tab-btn" data-tab="control">è©¦åˆç®¡ç†</button>
        </div>
      </div>

      <!-- ==================== Tab: Simple (è©¦åˆæ“ä½œ) ==================== -->
      <div id="tab-simple" class="tab-content active">
          <!-- ç¾åœ¨ã®çŠ¶æ³è¡¨ç¤º -->
          <div class="current-info" style="text-align:center; margin-bottom:10px; background:rgba(255,215,0,0.1); padding:5px; border-radius:4px;">
            <div class="current-info-label" style="font-size:10px; color:#ffd700;">ç¾åœ¨ã®æ‰“è€…</div>
            <div class="current-info-value" id="current-batter-name" style="font-weight:bold;">---</div>
          </div>
          
          <div class="simple-grid">
            <!-- ã‚«ã‚¦ãƒ³ãƒˆæ“ä½œ -->
            <section class="simple-section">
              <h3>ã‚«ã‚¦ãƒ³ãƒˆ</h3>
              <div class="count-controls">
                <div class="control-group">
                  <span class="control-label">ãƒœãƒ¼ãƒ«</span>
                  <div class="btn-group">
                    <button id="btn-ball" class="btn btn-ball">B +</button>
                    <button id="btn-ball-reset" class="btn btn-reset">Reset</button>
                  </div>
                </div>
                <div class="control-group">
                  <span class="control-label">ã‚¹ãƒˆãƒ©ã‚¤ã‚¯</span>
                  <div class="btn-group">
                    <button id="btn-strike" class="btn btn-strike">S +</button>
                    <button id="btn-strike-reset" class="btn btn-reset">Reset</button>
                  </div>
                </div>
                <div class="control-group">
                  <span class="control-label">ã‚¢ã‚¦ãƒˆ</span>
                  <div class="btn-group">
                    <button id="btn-out" class="btn btn-out">O +</button>
                    <button id="btn-out-reset" class="btn btn-reset">Reset</button>
                  </div>
                </div>
              </div>
              <button id="btn-count-reset" class="btn btn-full btn-warning" style="margin-top:10px; width:100%;">
                ã‚«ã‚¦ãƒ³ãƒˆãƒªã‚»ãƒƒãƒˆ
              </button>
            </section>
            
            <!-- ãƒ©ãƒ³ãƒŠãƒ¼æ“ä½œ -->
            <section class="simple-section">
              <h3>ãƒ©ãƒ³ãƒŠãƒ¼</h3>
              <div class="runner-controls-simple">
                <div class="diamond-simple">
                  <button id="btn-runner-2" class="base-btn second" title="2å¡"></button>
                  <button id="btn-runner-3" class="base-btn third" title="3å¡"></button>
                  <button id="btn-runner-1" class="base-btn first" title="1å¡"></button>
                </div>
              </div>
              <button id="btn-runner-clear" class="btn btn-full btn-warning" style="width:100%;">
                ãƒ©ãƒ³ãƒŠãƒ¼ã‚¯ãƒªã‚¢
              </button>
            </section>
            
            <!-- æ‰“å¸­çµæœå…¥åŠ›ï¼ˆå®‰æ‰“ãƒ»å‡ºå¡ï¼‰ -->
            <section class="simple-section">
              <h3>æ‰“å¸­çµæœ (å‡ºå¡)</h3>
              <div class="result-buttons">
                <!-- Row 1: Home Run -->
                <div class="result-row">
                  <span class="result-category">æœ¬å¡æ‰“</span>
                  <button data-result="homerun" class="btn btn-result btn-homerun">æœ¬å¡æ‰“</button>
                </div>
                <!-- Row 2: Hits -->
                <div class="result-row">
                  <span class="result-category">å®‰æ‰“</span>
                  <button data-result="single" class="btn btn-result btn-hit">å˜æ‰“</button>
                  <button data-result="double" class="btn btn-result btn-hit">äºŒå¡æ‰“</button>
                  <button data-result="triple" class="btn btn-result btn-hit">ä¸‰å¡æ‰“</button>
                </div>
                <!-- Row 3: Timely -->
                <div class="result-row">
                  <span class="result-category">ï¾€ï½²ï¾‘ï¾˜ï½°</span>
                  <button id="btn-timely-1" class="btn btn-result btn-timely">1</button>
                  <button id="btn-timely-2" class="btn btn-result btn-timely">2</button>
                  <button id="btn-timely-3" class="btn btn-result btn-timely">3</button>
                </div>
                <!-- Row 4: Walk, Error, etc -->
                <div class="result-row">
                  <span class="result-category">å››æ­»çƒä»–</span>
                  <button data-result="walk" class="btn btn-result btn-walk">å››çƒ</button>
                  <button data-result="hbp" class="btn btn-result btn-walk">æ­»çƒ</button>
                  <button data-result="error" class="btn btn-result btn-other">ã‚¨ãƒ©ãƒ¼</button>
                </div>
              </div>
            </section>
            
             <!-- æ‰“å¸­çµæœå…¥åŠ›ï¼ˆã‚¢ã‚¦ãƒˆãƒ»ä»–ï¼‰ -->
             <section class="simple-section">
                <h3>æ‰“å¸­çµæœ (å‡¡é€€)</h3>
                <div class="result-buttons">
                  <div class="result-row">
                    <span class="result-category">å‡¡é€€</span>
                    <button data-result="strikeout" class="btn btn-result btn-out-result">ä¸‰æŒ¯</button>
                    <button data-result="groundout" class="btn btn-result btn-out-result">ã‚´ãƒ­</button>
                    <button data-result="flyout" class="btn btn-result btn-out-result">ãƒ•ãƒ©ã‚¤</button>
                    <button data-result="lineout" class="btn btn-result btn-out-result">ãƒ©ã‚¤ãƒŠãƒ¼</button>
                  </div>
                  <div class="result-row">
                    <span class="result-category">ä»–</span>
                    <button data-result="sacrifice" class="btn btn-result btn-other">çŠ æ‰“</button>
                    <button data-result="fc" class="btn btn-result btn-other">FC</button>
                    <button data-result="dp" class="btn btn-result btn-out-result">ä½µæ®º</button>
                  </div>
                </div>
                <button id="btn-undo-result" class="btn btn-full btn-warning" style="width:100%;">
                  ç›´å‰ã®çµæœã‚’å–ã‚Šæ¶ˆã™
                </button>
              </section>
          </div>
      </div>

      <!-- ==================== Tab: Lineup (ã‚ªãƒ¼ãƒ€ãƒ¼ç®¡ç†) ==================== -->
      <div id="tab-lineup" class="tab-content">
          <section class="team-select-section">
            <h2>ãƒãƒ¼ãƒ é¸æŠ</h2>
            <div class="team-inputs">
              <div class="input-group">
                <label for="away-team-select">å…ˆæ”»ãƒãƒ¼ãƒ </label>
                <select id="away-team-select" class="team-select" style="width:100%; padding:5px;">
                  <option value="">ãƒãƒ¼ãƒ ã‚’é¸æŠ...</option>
                </select>
              </div>
              <div class="input-group">
                <label for="home-team-select">å¾Œæ”»ãƒãƒ¼ãƒ </label>
                <select id="home-team-select" class="team-select" style="width:100%; padding:5px;">
                  <option value="">ãƒãƒ¼ãƒ ã‚’é¸æŠ...</option>
                </select>
              </div>
            </div>
            
             <div style="text-align: center; margin-top:10px;">
                <button id="btn-save-lineup" class="btn btn-success">ä¿å­˜</button>
                <span id="save-status" style="margin-left: 12px; font-size: 14px; color: #2ecc71; opacity: 0; transition: opacity 0.3s;"></span>
              </div>
              
              <!-- ã‚¹ã‚¿ãƒ¡ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ©Ÿèƒ½ -->
              <div class="template-section" style="margin-top: 15px; padding: 10px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                <h3 style="margin: 0 0 10px 0; font-size: 14px; color: #ffd700;">ğŸ“‹ ã‚¹ã‚¿ãƒ¡ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ</h3>
                <div class="template-controls" style="display: flex; gap: 10px; flex-wrap: wrap; justify-content: center;">
                  <div class="template-team" style="flex: 1; min-width: 200px; padding: 8px; background: rgba(0,0,0,0.2); border-radius: 6px;">
                    <span style="font-size: 12px; color: #aaa;">å…ˆæ”»ãƒãƒ¼ãƒ </span>
                    <div style="margin-top: 5px; display: flex; gap: 5px; flex-wrap: wrap;">
                      <button id="btn-save-template-away" class="btn btn-template" style="font-size: 11px; padding: 4px 8px; background: #3498db;">ãƒ†ãƒ³ãƒ—ãƒ¬ä¿å­˜</button>
                      <button id="btn-load-template-away" class="btn btn-template" style="font-size: 11px; padding: 4px 8px; background: #27ae60;">ãƒ†ãƒ³ãƒ—ãƒ¬èª­è¾¼</button>
                    </div>
                  </div>
                  <div class="template-team" style="flex: 1; min-width: 200px; padding: 8px; background: rgba(0,0,0,0.2); border-radius: 6px;">
                    <span style="font-size: 12px; color: #aaa;">å¾Œæ”»ãƒãƒ¼ãƒ </span>
                    <div style="margin-top: 5px; display: flex; gap: 5px; flex-wrap: wrap;">
                      <button id="btn-save-template-home" class="btn btn-template" style="font-size: 11px; padding: 4px 8px; background: #3498db;">ãƒ†ãƒ³ãƒ—ãƒ¬ä¿å­˜</button>
                      <button id="btn-load-template-home" class="btn btn-template" style="font-size: 11px; padding: 4px 8px; background: #27ae60;">ãƒ†ãƒ³ãƒ—ãƒ¬èª­è¾¼</button>
                    </div>
                  </div>
                </div>
              </div>
          </section>

          <style>
             .btn-sub-player {
                 padding: 2px 6px; font-size: 10px; background: #e74c3c; color: #fff; border: none; border-radius: 3px; cursor: pointer; margin-left: 5px;
             }
             .btn-sub-player:hover { background: #c0392b; }
             
             .btn-apply-changes {
                 width: 100%;
                 padding: 10px;
                 margin-top: 15px;
                 background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
                 color: #fff;
                 border: none;
                 border-radius: 8px;
                 font-size: 14px;
                 font-weight: bold;
                 cursor: pointer;
                 transition: all 0.3s ease;
                 box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
             }
             .btn-apply-changes:hover {
                 background: linear-gradient(135deg, #c0392b 0%, #a93226 100%);
                 transform: translateY(-2px);
                 box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
             }
             .btn-apply-changes:active {
                 transform: translateY(0);
             }
          </style>

          <div class="lineups-row">
            <!-- å…ˆæ”»ãƒãƒ¼ãƒ ï¼ˆå·¦å´ï¼‰ -->
            <section class="lineup-column section">
              <h3 class="lineup-team-title">å…ˆæ”»ï¼ˆãƒ“ã‚¸ã‚¿ãƒ¼ï¼‰</h3>
              <div id="lineup-input-away" class="lineup-input-panel">
                 <!-- JS will generate content -->
              </div>
              <button id="btn-apply-changes-away" class="btn-apply-changes">ğŸ”„ äº¤ä»£ã‚’é©ç”¨</button>
            </section>
            
            <!-- å¾Œæ”»ãƒãƒ¼ãƒ ï¼ˆå³å´ï¼‰ -->
            <section class="lineup-column section">
              <h3 class="lineup-team-title">å¾Œæ”»ï¼ˆãƒ›ãƒ¼ãƒ ï¼‰</h3>
              <div id="lineup-input-home" class="lineup-input-panel">
                <!-- JS will generate content -->
              </div>
              <button id="btn-apply-changes-home" class="btn-apply-changes">ğŸ”„ äº¤ä»£ã‚’é©ç”¨</button>
            </section>
          </div>
      </div>

      <!-- ==================== Tab: DB (DBç®¡ç†) ==================== -->
      <div id="tab-db" class="tab-content">
           <div class="db-tabs">
            <button class="db-tab-btn active" onclick="showDbTab('teams')">ãƒãƒ¼ãƒ ç®¡ç†</button>
            <button class="db-tab-btn" onclick="showDbTab('players')">é¸æ‰‹ç®¡ç†</button>
            <button class="db-tab-btn" onclick="showDbTab('stats')">æˆç¸¾ç®¡ç†</button>
          </div>

          <!-- ãƒãƒ¼ãƒ ç®¡ç†ã‚¿ãƒ– -->
          <div id="teams-tab" class="db-tab-content active">
            <div class="section">
              <h2>ãƒãƒ¼ãƒ ç™»éŒ²</h2>
              <form id="team-form">
                <input type="hidden" id="team-id">
                <div class="flex-row">
                    <div class="form-group flex-1">
                      <label for="team-name">ãƒãƒ¼ãƒ å</label>
                      <input type="text" id="team-name" required placeholder="ä¾‹: Hanshin Tigers">
                    </div>
                    <div class="form-group flex-1">
                      <label for="team-short-name">ç•¥ç§°</label>
                      <input type="text" id="team-short-name" required placeholder="ä¾‹: é˜ªç¥">
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">ä¿å­˜</button>
                <button type="button" onclick="resetTeamForm()" class="btn" style="background:transparent; border:1px solid #aaa;">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
              </form>
            </div>

            <div class="section">
              <h2>ç™»éŒ²æ¸ˆã¿ãƒãƒ¼ãƒ ä¸€è¦§</h2>
              <table id="teams-table">
                <thead><tr><th>ID</th><th>ãƒãƒ¼ãƒ å</th><th>ç•¥ç§°</th><th>æ“ä½œ</th></tr></thead>
                <tbody><!-- JSã§æŒ¿å…¥ --></tbody>
              </table>
            </div>
          </div>

          <!-- é¸æ‰‹ç®¡ç†ã‚¿ãƒ– -->
          <div id="players-tab" class="db-tab-content">
            <div class="section">
              <h2>é¸æ‰‹ç™»éŒ²</h2>
              <form id="player-form">
                <input type="hidden" id="player-id">
                <div class="form-group">
                    <label for="player-team-select">æ‰€å±ãƒãƒ¼ãƒ </label>
                    <select id="player-team-select" required></select>
                </div>
                <div class="flex-row">
                    <div class="form-group flex-1">
                      <label for="player-name">é¸æ‰‹å</label>
                      <input type="text" id="player-name" required placeholder="ä¾‹: ä½è—¤ è¼æ˜">
                    </div>
                    <div class="form-group" style="width: 80px;">
                      <label for="player-number">èƒŒç•ªå·</label>
                      <input type="number" id="player-number" placeholder="8">
                    </div>
                </div>
                <div class="flex-row">
                     <div class="form-group flex-1">
                      <label for="player-position">ãƒã‚¸ã‚·ãƒ§ãƒ³</label>
                      <select id="player-position">
                          <option value="P">P (æŠ•æ‰‹)</option>
                          <option value="C">C (æ•æ‰‹)</option>
                          <option value="IF">IF (å†…é‡æ‰‹)</option>
                          <option value="OF">OF (å¤–é‡æ‰‹)</option>
                      </select>
                    </div>
                    <div class="form-group flex-1">
                      <label for="player-hand">æŠ•æ‰“</label>
                      <input type="text" id="player-hand" placeholder="ä¾‹: å³æŠ•å·¦æ‰“">
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">ä¿å­˜</button>
                <button type="button" onclick="resetPlayerForm()" class="btn" style="background:transparent; border:1px solid #aaa;">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
              </form>
            </div>

            <div class="section">
              <h2>é¸æ‰‹ä¸€è¦§</h2>
              <div class="form-group">
                  <label>ãƒãƒ¼ãƒ ã§ãƒ•ã‚£ãƒ«ã‚¿</label>
                  <select id="filter-team-select" onchange="loadPlayers()">
                      <option value="">å…¨ãƒãƒ¼ãƒ </option>
                  </select>
              </div>
              <div style="overflow-x:auto;">
                <table id="players-table">
                    <thead><tr><th>#</th><th>é¸æ‰‹å</th><th>å®ˆ</th><th>æŠ•æ‰“</th><th>ãƒãƒ¼ãƒ </th><th>æ“ä½œ</th></tr></thead>
                    <tbody><!-- JSã§æŒ¿å…¥ --></tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- æˆç¸¾ç®¡ç†ã‚¿ãƒ– -->
          <div id="stats-tab" class="db-tab-content">
             <div class="section">
                 <h2>CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆ</h2>
                 <div class="form-group">
                     <label>ãƒ‡ãƒ¼ã‚¿ã®ç¨®é¡</label>
                     <select id="import-type">
                         <option value="batting">æ‰“æ’ƒæˆç¸¾</option>
                         <option value="pitching">æŠ•æ‰‹æˆç¸¾</option>
                         <option value="players">é¸æ‰‹æƒ…å ±</option>
                     </select>
                 </div>
                 <div class="form-group">
                     <input type="file" id="csv-file" accept=".csv">
                 </div>
                 <button onclick="uploadCsv()" class="btn btn-primary">ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</button>
                 <div id="upload-status" style="margin-top: 5px; font-size:12px;"></div>
             </div>
             
             <div class="section">
                 <h2>CSV ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</h2>
                 <div class="flex-row">
                     <button onclick="exportCsv('batting')" class="btn btn-primary" style="font-size:10px;">æ‰“æ’ƒæˆç¸¾DL</button>
                     <button onclick="exportCsv('pitching')" class="btn btn-primary" style="font-size:10px;">æŠ•æ‰‹æˆç¸¾DL</button>
                 </div>
             </div>

             <div class="section">
                  <h2>ãƒãƒ¼ãƒ åˆ¥æˆç¸¾ãƒªã‚»ãƒƒãƒˆ</h2>
                  <div class="form-group flex-row" style="align-items: center;">
                    <select id="stats-team-filter" style="width: auto; min-width: 150px; margin-right: 5px;">
                        <option value="">ï¼ˆãƒãƒ¼ãƒ é¸æŠï¼‰</option>
                    </select>
                    <button id="btn-reset-team-stats" class="btn btn-danger" onclick="resetTeamStats()" disabled>ä¸€æ‹¬å‰Šé™¤</button>
                  </div>
             </div>

            <div class="section">
                <h2>æˆç¸¾è©³ç´°</h2>
                <div class="db-tabs" style="margin-bottom: 5px;">
                    <button class="db-tab-btn active" id="btn-stats-batting" onclick="switchStatsTab('batting')">æ‰“æ’ƒ</button>
                    <button class="db-tab-btn" id="btn-stats-pitching" onclick="switchStatsTab('pitching')">æŠ•æ‰‹</button>
                </div>
                
                 <!-- Manual Stats Form (Collapsible or just visible) -->
                 <div style="margin-bottom:15px; border:1px dashed #555; padding:5px;">
                     <h4 style="margin:0 0 5px 0; color:#aaa; font-size:12px;">æ‰‹å‹•ç·¨é›†ãƒ»ç™»éŒ²</h4>
                      <form id="stats-form">
                        <input type="hidden" id="stats-id">
                        <input type="hidden" id="stats-type" value="batting">
                        <div class="flex-row">
                            <div class="form-group flex-1">
                                <label>ãƒãƒ¼ãƒ </label>
                                <select id="stats-form-team-select" onchange="loadPlayersForStats(this.value)" required></select>
                            </div>
                            <div class="form-group flex-1">
                                <label>é¸æ‰‹</label>
                                <select id="stats-player-select" required></select>
                            </div>
                             <div class="form-group" style="width:60px;">
                                <label>å¹´åº¦</label>
                                <input type="number" id="stats-season" value="2026" required>
                            </div>
                        </div>
                        
                        <!-- Batting Fields -->
                        <div id="batting-fields">
                            <div class="flex-row">
                                <input type="text" id="stats-batting-average" placeholder="æ‰“ç‡" class="flex-1">
                                <input type="number" id="stats-games-b" placeholder="è©¦åˆ" class="flex-1">
                                <input type="number" id="stats-at-bats" placeholder="æ‰“æ•°" class="flex-1">
                                <input type="number" id="stats-hits" placeholder="å®‰æ‰“" class="flex-1">
                            </div>
                            <div class="flex-row" style="margin-top:5px;">
                                <input type="number" id="stats-home-runs" placeholder="HR" class="flex-1">
                                <input type="number" id="stats-rbis" placeholder="æ‰“ç‚¹" class="flex-1">
                                <input type="text" id="stats-ops" placeholder="OPS" class="flex-1">
                            </div>
                        </div>
                        <!-- Pitching Fields -->
                        <div id="pitching-fields" style="display:none;">
                             <div class="flex-row">
                                <input type="text" id="stats-era" placeholder="é˜²å¾¡ç‡" class="flex-1">
                                <input type="number" id="stats-games-p" placeholder="ç™»æ¿" class="flex-1">
                                <input type="number" id="stats-wins" placeholder="å‹" class="flex-1">
                                <input type="number" id="stats-losses" placeholder="è² " class="flex-1">
                            </div>
                            <div class="flex-row" style="margin-top:5px;">
                                <input type="number" id="stats-saves" placeholder="S" class="flex-1">
                                <input type="text" id="stats-innings" placeholder="å›" class="flex-1">
                                <input type="number" id="stats-strikeouts" placeholder="ä¸‰æŒ¯" class="flex-1">
                            </div>
                        </div>
                        <div style="margin-top:5px; text-align:right;">
                             <button type="submit" class="btn btn-primary" style="padding:4px 8px;">ä¿å­˜</button>
                             <button type="button" onclick="resetStatsForm()" class="btn" style="padding:4px 8px; background:#555;">Clear</button>
                        </div>
                      </form>
                 </div>

                <div style="overflow-x: auto; max-height:300px;">
                    <table id="stats-table">
                        <thead><!-- JS --></thead>
                        <tbody><!-- JS --></tbody>
                    </table>
                </div>
            </div>
          </div>
      </div>

      <!-- ==================== Tab: Control (è©¦åˆç®¡ç†) ==================== -->
      <div id="tab-control" class="tab-content">
           <div class="control-layout">
            <div class="control-column">
              <!-- ã‚¤ãƒ‹ãƒ³ã‚°æ“ä½œ -->
              <section class="control-section">
                <h2>ã‚¤ãƒ‹ãƒ³ã‚°</h2>
                <div class="inning-controls">
                  <button id="btn-inning-prev" class="btn btn-reset">â—€</button>
                  <span class="inning-info" id="inning-info" style="font-weight:bold; font-size:16px; color:#ffd700;">1å› è¡¨</span>
                  <button id="btn-inning-next" class="btn btn-reset">â–¶</button>
                </div>
              </section>
              
              <!-- å¾—ç‚¹æ“ä½œ -->
              <section class="control-section">
                <h2>å¾—ç‚¹</h2>
                <div class="score-controls">
                  <span class="team-label" id="scoring-team-label" style="color:#aaa;">æ”»æ’ƒãƒãƒ¼ãƒ </span>
                  <div class="btn-group">
                    <button id="btn-score-minus" class="btn btn-reset">âˆ’</button>
                    <span id="current-inning-score" class="current-score">0</span>
                    <button id="btn-score-plus" class="btn btn-reset">ï¼‹</button>
                  </div>
                </div>
              </section>
              
              <!-- R/H/Eæ“ä½œ -->
              <section class="control-section">
                <h2>Hits / Errors</h2>
                <div class="rhe-controls">
                  <div class="rhe-team-controls">
                    <span class="team-label">å…ˆæ”»</span>
                    <div class="btn-group">
                      <button data-team="away" data-stat="h" class="btn btn-reset">H+</button>
                      <button data-team="away" data-stat="h" data-action="minus" class="btn btn-reset">Hâˆ’</button>
                      <button data-team="away" data-stat="e" class="btn btn-reset">E+</button>
                      <button data-team="away" data-stat="e" data-action="minus" class="btn btn-reset">Eâˆ’</button>
                    </div>
                  </div>
                  <div class="rhe-team-controls">
                    <span class="team-label">å¾Œæ”»</span>
                    <div class="btn-group">
                      <button data-team="home" data-stat="h" class="btn btn-reset">H+</button>
                      <button data-team="home" data-stat="h" data-action="minus" class="btn btn-reset">Hâˆ’</button>
                      <button data-team="home" data-stat="e" class="btn btn-reset">E+</button>
                      <button data-team="home" data-stat="e" data-action="minus" class="btn btn-reset">Eâˆ’</button>
                    </div>
                  </div>
                </div>
              </section>

              <!-- è©¦åˆãƒªã‚»ãƒƒãƒˆ -->
              <section class="control-section">
                <button id="btn-reset-game" class="btn btn-full btn-danger" style="width:100%;">
                    è©¦åˆãƒ‡ãƒ¼ã‚¿ãƒªã‚»ãƒƒãƒˆ
                </button>
              </section>

               <section class="control-section">
                 <div class="log-tabs-header" style="display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; border-bottom:1px solid rgba(255,255,255,0.1); padding-bottom:5px;">
                    <h2 style="margin:0; border:none; padding:0;">ãƒ­ã‚°ãƒ»è©³ç´°ç·¨é›†</h2>
                    <div class="log-tabs-buttons">
                        <button id="btn-tab-atbat" class="db-tab-btn active" onclick="switchLogTab('atbat')">æ‰“å¸­ãƒ­ã‚°</button>
                        <button id="btn-tab-pitcher" class="db-tab-btn" onclick="switchLogTab('pitcher')">æŠ•æ‰‹ãƒ­ã‚°</button>
                    </div>
                 </div>

                 <!-- Tab: At-Bat Log -->
                 <div id="log-content-atbat" style="display:block;">
                     <div class="log-team-selector" style="display:flex; justify-content:center; gap:20px; margin-bottom:10px;">
                        <button id="btn-log-away" class="btn-log-team active" onclick="window.switchLogTeam('away')" style="flex:1; padding:8px; background:#444; border:none; border-radius:4px; color:#fff; cursor:pointer;">AWAY</button>
                        <button id="btn-log-home" class="btn-log-team" onclick="window.switchLogTeam('home')" style="flex:1; padding:8px; background:#444; border:none; border-radius:4px; color:#fff; cursor:pointer;">HOME</button>
                     </div>
                     <div id="at-bat-log-container" class="log-list-wrapper" style="overflow-y: auto; max-height: 500px; background: rgba(0,0,0,0.2); border-radius: 4px; padding: 5px;">
                        <!-- JSã§ç”Ÿæˆ -->
                     </div>
                 </div>

                 <!-- Tab: Pitcher Log -->
                 <div id="log-content-pitcher" style="display:none;">
                    <div class="pitcher-stats-container" style="display:flex; justify-content:center; gap:10px; padding: 5px;">
                      
                      <!-- Away Team Pitcher Table -->
                      <div class="pitcher-group" style="flex:1;">
                        <h3 id="pitcher-log-label-away" style="font-size:12px; margin-bottom:5px; color:#ffd700; border-bottom:1px solid #555;">AWAY</h3>
                        <table class="at-bat-log-table" style="width:100%; font-size:11px;">
                            <thead>
                                <tr style="border-bottom: 1px solid #444; color: #aaa;">
                                    <th style="padding:2px; text-align:left; min-width: 80px;">æŠ•æ‰‹</th>
                                    <th style="padding:2px; width:45px; text-align:center;">IP</th>
                                    <th style="padding:2px; width:35px; text-align:center;">K</th>
                                    <th style="padding:2px; width:35px; text-align:center;">BB</th>
                                    <th style="padding:2px; width:35px; text-align:center;">R</th>
                                    <th style="padding:2px; width:35px; text-align:center;">ER</th>
                                </tr>
                            </thead>
                            <tbody id="pitcher-table-body-away">
                                <!-- JS Populated -->
                            </tbody>
                        </table>
                      </div>

                      <!-- Home Team Pitcher Table -->
                      <div class="pitcher-group" style="flex:1;">
                        <h3 id="pitcher-log-label-home" style="font-size:12px; margin-bottom:5px; color:#ffd700; border-bottom:1px solid #555;">HOME</h3>
                        <table class="at-bat-log-table" style="width:100%; font-size:11px;">
                            <thead>
                                <tr style="border-bottom: 1px solid #444; color: #aaa;">
                                    <th style="padding:2px; text-align:left;">æŠ•æ‰‹</th>
                                    <th style="padding:2px; width:30px; text-align:center;">IP</th>
                                    <th style="padding:2px; width:25px; text-align:center;">K</th>
                                    <th style="padding:2px; width:25px; text-align:center;">BB</th>
                                    <th style="padding:2px; width:25px; text-align:center;">R</th>
                                    <th style="padding:2px; width:25px; text-align:center;">ER</th>
                                </tr>
                            </thead>
                            <tbody id="pitcher-table-body-home">
                                <!-- JS Populated -->
                            </tbody>
                        </table>
                      </div>

                    </div>
                    <div style="margin-top: 5px; font-size: 9px; color: #888; text-align:center;">â€»æ‰‹å‹•ä¿®æ­£å¯</div>
                 </div>
               </section>
               
               <script>
                   function switchLogTab(tabName) {
                       document.getElementById('log-content-atbat').style.display = tabName === 'atbat' ? 'block' : 'none';
                       document.getElementById('log-content-pitcher').style.display = tabName === 'pitcher' ? 'block' : 'none';
                       
                       document.getElementById('btn-tab-atbat').classList.toggle('active', tabName === 'atbat');
                       document.getElementById('btn-tab-pitcher').classList.toggle('active', tabName === 'pitcher');
                   }
               </script>
            </div>
          </div>
      </div>

    </div>
    
    <script type="module" src="js/app.js"></script>
    <script src="js/admin-db.js"></script>
    <script src="js/admin-tabs.js"></script>
  </body>
</html>
